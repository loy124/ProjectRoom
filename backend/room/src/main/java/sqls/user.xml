<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- bit.com.a.dao.BbsDao -->
<mapper namespace="bit.com.a.user.UserDao">

  <!-- now() = SYSOUT -->
  <insert id="register" parameterType="bit.com.a.user.UserDto" useGeneratedKeys="true" keyProperty="id">
INSERT INTO USER(user_id, user_password, name, email, age, phone_number, address,
 auth, registered_at, registered_by)
 VALUES(#{userId},#{userPassword}, #{name}, #{email}, #{age}, #{phoneNumber}, #{address}, 3, NOW(), 'ADMIN') 
</insert>

  <select id="getMemberList" resultType="bit.com.a.user.UserDto">
select * from USER
</select>

  <!-- 세션에 담기 위한 용도 -->
  <select id="login" parameterType="bit.com.a.user.UserDto" resultType="bit.com.a.user.UserDto">
SELECT id, user_id, auth FROM USER WHERE user_id = #{userId}, user_password = #{userPassword}
</select>

  <!-- 추후 비밀번호검색 -->
  <select id="getInformation" parameterType="bit.com.a.user.UserDto" resultType="bit.com.a.user.UserDto">
SELECT * FROM USER WHERE id = #{id}
</select>


</mapper>